# T20 UI (session_e951ebd1-7b4e-4b4a-a0e2-1e4922729f1f)

This repository houses the PyQt6-based User Interface (UI) for the T20 Multi-Agent System. It provides a graphical front-end to interact with the T20 runtime, allowing users to define tasks, configure execution parameters, monitor agent progress, and view outputs and artifacts.

---

## Table of Contents

*   [About](#about)
*   [Features](#features)
*   [Design Philosophy](#design-philosophy)
*   [Getting Started](#getting-started)
    *   [Prerequisites](#prerequisites)
    *   [Installation](#installation)
    *   [Usage](#usage)
*   [UI Structure and Components](#ui-structure-and-components)
    *   [Main Window Layout](#main-window-layout)
    *   [Key Widgets](#key-widgets)
*   [Runtime Integration](#runtime-integration)
*   [CLI Argument Handling](#cli-argument-handling)
*   [Accessibility](#accessibility)
*   [Testing](#testing)
*   [Contributing](#contributing)
*   [License](#license)

---

## About

The T20 UI is designed to streamline the user experience of the T20 Multi-Agent System. It translates complex command-line operations into an intuitive graphical interface, making it easier for users to leverage the power of collaborative AI agents. This UI supports the core functionalities of the T20 runtime, including task definition, configuration of orchestrators and models, monitoring progress, and accessing generated artifacts, all while supporting `sysmain` CLI arguments.

---

## Features

*   **Intuitive Task Input:** Easily define your multi-agent task goals.
*   **Runtime Configuration:** Select orchestrators, models, set execution rounds, and specify input files.
*   **Real-time Logging:** Monitor the progress and activities of agents and the runtime in a dedicated log view.
*   **Progress Visualization:** Understand the current stage of task execution with a progress bar.
*   **Output Display:** View the final results and outputs generated by the multi-agent system.
*   **Artifact Browser:** Browse, open, and save artifacts generated during task execution.
*   **Responsive Design:** Adaptable layout for a comfortable user experience.
*   **Theming Support:** Customizable visual themes (currently defaults to a dark theme).
*   **CLI Argument Support:** Seamless integration and handling of `sysmain` CLI arguments for runtime configuration.

---

## Design Philosophy

The T20 UI is built with the following principles in mind:

*   **Clarity and Simplicity:** Present information and controls in a straightforward manner.
*   **User Feedback:** Provide constant, clear feedback on system status and progress.
*   **Accessibility:** Ensure the application is usable by a wide range of users, including those with disabilities.
*   **Modularity:** Design components to be reusable and maintainable.
*   **Responsiveness:** Guarantee a smooth user experience across different scenarios.

---

## Getting Started

### Prerequisites

*   Python 3.9+
*   PyQt6 installed (`pip install PyQt6`)
*   T20 Runtime installed and accessible in your environment (`pip install t20-system`)
*   Google AI API Key configured (if using Gemini models)

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository_url>
    cd t20-ui # Or the directory where you cloned the project
    ```

2.  **Create and activate a virtual environment:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3.  **Install the package:**
    ```bash
    pip install -e .
    ```

### Usage

Run the application from your terminal:

```bash
t20-ui
```

You can also pass `sysmain` arguments directly to the `t20-system` command when it's invoked by the UI. The UI will construct and pass these arguments based on your selections and inputs.

**Example:**
When you input a task goal and configure options in the UI, clicking "Run Task" will internally construct and execute a command similar to:

```bash
t20-system "Your task goal here" -o LaCogito -m gemini-1.5-flash-latest -r 5
```

---

## UI Structure and Components

The application is built using PyQt6, following a modular approach for better organization and maintainability.

### Main Window Layout

The main window is divided into three primary resizable sections using `QSplitter` widgets:

1.  **Left Panel (Control & Configuration):** Houses input fields for the task goal, runtime configuration options, and the "Run Task" button.
2.  **Center Panel (Status & Progress):** Displays real-time logs and a progress bar for monitoring execution.
3.  **Right Panel (Output & Artifacts):** Shows the final task output and a browser for managing generated artifacts.

### Key Widgets

*   **`MainWindow`**: The primary application window.
*   **`TaskInputWidget`**: A `QTextEdit` for entering the main task goal.
*   **`ConfigWidget`**: Contains `QComboBox` and `QSpinBox` for selecting orchestrator, model, rounds, and a `QLineEdit` for file paths.
*   **`StatusLogWidget`**: A read-only `QTextEdit` to display logs from the T20 runtime.
*   **`ProgressWidget`**: A `QProgressBar` and status label to visualize task progress.
*   **`OutputDisplayWidget`**: A read-only `QTextEdit` to show the final output of the T20 task.
*   **`ArtifactBrowserWidget`**: A `QListWidget` to display generated artifacts, with buttons to open or save them.

---

## Runtime Integration

The `runtime/executor.py` module is responsible for interacting with the T20 runtime. It uses `QProcess` to execute the `t20-system` command as a subprocess. Signals from `QProcess` are connected to slots in the executor to:

*   Capture standard output and error streams.
*   Parse structured output (e.g., JSON containing artifacts).
*   Emit signals to update the UI's log, progress, and output displays.
*   Handle task completion or errors.

---

## CLI Argument Handling

The `runtime/cli_handler.py` module manages argument parsing.

*   `parse_gui_args`: Handles arguments specific to launching the GUI application itself (e.g., `--theme`).
*   `get_runtime_args_for_subprocess`: Constructs the command-line arguments intended for the `t20-system` subprocess based on the current UI configuration. When the "Run Task" button is clicked, these arguments, along with the task goal, are passed to the `QProcess` execution.

---

## Accessibility

The UI is designed with accessibility in mind:

*   **Keyboard Navigation:** All interactive elements are navigable and operable via keyboard.
*   **Clear Labels:** Widgets have descriptive labels for better understanding.
*   **Sufficient Contrast:** The default dark theme uses colors with adequate contrast ratios.
*   **Focus Indicators:** Clear visual cues indicate the currently focused element.

---

## Testing

Comprehensive testing is crucial. The project includes a `tests/` directory for:

*   **UI Widget Tests (`tests/ui/test_widgets.py`):** Unit tests for individual UI components.
*   **Runtime Integration Tests (`tests/runtime/test_executor.py`):** Integration tests to verify the interaction between the UI and the T20 runtime.

(Note: As of this documentation, these tests might be placeholders and require further implementation.)

---

## Contributing

Contributions are welcome! Please refer to the main T20 project's contribution guidelines. For UI-specific contributions, you can:

1.  Fork the repository.
2.  Create a new branch (`git checkout -b feature/your-feature`).
3.  Make your changes and commit them (`git commit -am 'Add some feature'`).
4.  Push to the branch (`git push origin feature/your-feature`).
5.  Create a new Pull Request.

---

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.


---
# https://github.com/deniskropp/t20

```
commit c60c50962c6aa820f67add6b401f280fed78a08c (HEAD -> main, origin/main)
Author: Denis Oliver Kropp <Leichenbegatter@outlook.com>
Date:   Wed Sep 24 17:54:04 2025 +0200

ui-session: Add Pyqt6 based UI for multi-agent system

This commit introduces a PyQt6-based graphical user interface (GUI) for the multi-agent system. 
```

## PyQt6-based GUI for T20-multi-agent-system

The UI allows for task goal input, runtime parameter configuration, and monitoring of the system's execution via a subprocess. It features a three-panel layout for control, status, and output/artifacts, with modular widgets for specific functions. The integration with the T20 runtime is handled asynchronously using `QProcess`.

### Key Features and Components

*   **PyQt6 GUI**: A new graphical interface built with PyQt6.
*   **Task Goal Input**: A dedicated area for users to specify the high-level task.
*   **Runtime Configuration**: Options to set orchestrator, model, execution rounds, and input files.
*   **Subprocess Execution**: The `t20-system` CLI is run as a subprocess using `QProcess` to maintain UI responsiveness.
*   **Real-time Monitoring**: Displays logs, progress updates, and final outputs.
*   **Artifact Management**: Allows browsing, opening, and saving of generated artifacts.
*   **CLI Argument Handling**: Supports system and runtime CLI arguments for launching and configuring the GUI process.
*   **Modular Widgets**: Components like `TaskInputWidget`, `ConfigWidget`, `StatusLogWidget`, `ProgressWidget`, `OutputDisplayWidget`, and `ArtifactBrowserWidget` are used.
*   **Three-Panel Layout**: A resizable layout using `QSplitter` for distinct functional areas.

### New Files and Directories

*   `.gitignore`: Added to exclude build artifacts and caches.
*   `initial_plan.json`: Outlines the high-level steps and roles for UI development.
*   `planning_prompt.txt`: Used for guiding the initial planning phase.
*   `t20_ui/`: Root directory for the UI components.
    *   `__init__.py`: Package initialization.
    *   `main.py`: Application entry point and main window setup.
    *   `ui/`: Contains UI-specific modules.
        *   `__init__.py`: UI package initialization.
        *   `main_window.py`: Defines the main application window structure.
        *   `styles.py`: Contains Qt Style Sheets for theming.
        *   `widgets/`: Directory for individual UI widgets.
            *   `__init__.py`: Widgets package initialization.
            *   `task_input_widget.py`: Widget for task goal input.
            *   `config_widget.py`: Widget for runtime configuration.
            *   `status_log_widget.py`: Widget for displaying logs.
            *   `progress_widget.py`: Widget for progress indication.
            *   `output_display_widget.py`: Widget for showing task output.
            *   `artifact_browser_widget.py`: Widget for managing artifacts.
    *   `runtime/`: Handles interaction with the T20 runtime.
        *   `__init__.py`: Runtime package initialization.
        *   `executor.py`: Manages `QProcess` execution and signal handling.
        *   `cli_handler.py`: Parses CLI arguments for the GUI and subprocess.
        *   `signals.py`: Placeholder for custom signals.
    *   `tests/`: Contains test files.
        *   `__init__.py`: Tests package initialization.
        *   `ui/`: UI test modules.
        *   `runtime/`: Runtime test modules.
    *   `implementation_plan.md`: Detailed technical plan for implementing the UI.
    *   `testing_report.md`: Documentation of testing strategy and results.
*   `tas.json`: Contains task-agnostic steps relevant to UI development.
*   `ui_design.md`: Documents the UI design concepts, layout, and theme.

### Changes

*   feat: Implement PyQt6 based GUI for multi-agent system
*   refactor: Organize UI components into modular widgets
*   chore: Add .gitignore for UI build artifacts
*   docs: Create initial_plan.json and planning_prompt.txt
*   docs: Add ui_design.md and testing_report.md
*   feat: Integrate runtime execution via QProcess
*   feat: Implement CLI argument parsing for GUI and runtime
*   chore: Add TAS definitions in tas.json
*   test: Add placeholder tests for UI and runtime components
